<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Contact Us</title>
    <link rel="stylesheet" href="Contact.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.19/css/intlTelInput.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <!-- Navbar -->
    <header class="navbar">
      <div class="nav-brand">
        <div class="logo">Job Junction</div>
      </div>

      <nav class="nav-menu" id="navMenu">
        <a href="home.html" class="nav-link">Home</a>

        <div class="dropdown">
          <a href="#" class="nav-link dropdown-toggle"
            >Jobs <i class="fa-solid fa-chevron-down"></i
          ></a>
          <div class="dropdown-content">
            <a href="internships.html">Internships</a>
            <a href="part-time.html">Part Time Jobs</a>
            <a href="remote.html">Remote Jobs</a>
          </div>
        </div>

        <a href="companies.html" class="nav-link">Companies</a>
        <a href="about.html" class="nav-link">About</a>
        <a href="ContactPage.html" class="nav-link active">Contact</a>
      </nav>

      <div class="nav-actions">
        <button class="theme-toggle" id="themeToggle">
          <i class="fas fa-moon"></i>
        </button>
        <a href="login.html" class="btn-ghost">Login</a>
        <a href="signup.html" class="btn-primary">Sign Up</a>
        <button class="mobile-toggle" id="mobileToggle">
          <i class="fas fa-bars"></i>
        </button>
      </div>
    </header>

    <!-- Contact Heading -->
    <div class="contact-heading">
      <i class="fa-solid fa-envelope"></i>
      <h1 class="fade-in mob-res">Stay Connected</h1>
    </div>

    <!-- Contact Form Section -->
    <section class="grid-container">
      <!-- Cards Column -->
      <div class="cards-column">
        <div class="card">
          <h3>Connect with us</h3>
          <p>Find your dream Job on our Job-Portal</p>
        </div>
        <div class="card">
          <h3>24/7 at your service</h3>
          <p>Feel free to reach out. We will appreciate your queries.</p>
        </div>
        <div class="card">
          <h3>Grow your connections</h3>
          <p>
            Job-Portal connects you with real-world. Network with like-minded
            people.
          </p>
        </div>
      </div>

      <!-- Contact Form Column -->
      <div class="contact-column">
        <main class="wrap" role="main">
          <h1>Contact us</h1>
          <p class="lead">
            Questions, feedback, or a friendly hello—drop a message below.
          </p>

          <form id="contactForm" novalidate>
            <!-- Honeypot -->
            <div class="honeypot" aria-hidden="true">
              <label
                >Leave this field empty
                <input
                  type="text"
                  name="company"
                  tabindex="-1"
                  autocomplete="off"
                />
              </label>
            </div>

            <div class="full">
              <label for="name"><i class="fa-solid fa-user"></i> Name *</label>
              <input
                id="name"
                name="name"
                type="text"
                required
                maxlength="100"
                minlength="3"
                autocomplete="name"
                placeholder="Your full name"
              />
              <div class="error" data-for="name"></div>
            </div>

            <div>
              <label for="email"
                ><i class="fa-solid fa-square-envelope"></i> Email *</label
              >
              <input
                id="email"
                name="email"
                type="email"
                required
                maxlength="120"
                autocomplete="email"
                inputmode="email"
                placeholder="your.email@example.com"
              />
              <div class="error" data-for="email"></div>
            </div>

            <div>
              <label for="phone"><i class="fa-solid fa-phone"></i> Phone</label>
              <input
                id="phone"
                name="phone"
                type="tel"
                maxlength="15"
                minlength="10"
                autocomplete="tel"
                inputmode="tel"
                placeholder="Enter your phone number"
              />
              <div class="error" data-for="phone"></div>
            </div>

            <div class="full">
              <label for="subject"
                ><i class="fa-solid fa-pen-to-square"></i> Subject *</label
              >
              <input
                id="subject"
                name="subject"
                type="text"
                required
                minlength="3"
                maxlength="150"
                placeholder="What is this regarding?"
              />
              <div class="error" data-for="subject"></div>
            </div>

            <div class="full">
              <label for="message"
                ><i class="fa-solid fa-message"></i> Message *</label
              >
              <textarea
                id="message"
                name="message"
                required
                minlength="10"
                maxlength="5000"
                placeholder="Tell us a bit about your request…"
              ></textarea>
              <div class="error" data-for="message"></div>
            </div>

            <div class="full row">
              <div
                aria-live="polite"
                aria-atomic="true"
                class="notice"
                id="formNotice"
              ></div>
              <button id="submitBtn" type="submit">Send message</button>
            </div>
          </form>
        </main>
      </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
      <div class="footer-container">
        <div class="footer-col">
          <h3><i class="fa-solid fa-briefcase"></i> Job Junction</h3>
          <p>
            Find internships, part-time jobs, and remote opportunities tailored
            for you.
          </p>
        </div>
        <div class="footer-col">
          <h3>Important Links</h3>
          <a href="home.html"><i class="fa-solid fa-house"></i> Home</a>
          <a href="internships.html"
            ><i class="fa-solid fa-graduation-cap"></i> Internships</a
          >
          <a href="part-time.html"
            ><i class="fa-solid fa-clock"></i> Part Time Jobs</a
          >
          <a href="remote.html"
            ><i class="fa-solid fa-laptop-code"></i> Remote Jobs</a
          >
          <a href="companies.html"
            ><i class="fa-solid fa-building"></i> Companies</a
          >
        </div>
        <div class="footer-col">
          <h3>Contact</h3>
          <p><i class="fa-solid fa-phone"></i> +91 98765 43210</p>
          <p>
            <i class="fa-solid fa-envelope"></i>
            <a href="mailto:support@jobjunction.com">support@jobjunction.com</a>
          </p>
        </div>
        <div class="footer-col">
          <h3>Follow Us</h3>
          <div class="social-icons">
            <a href="https://www.facebook.com/"
              ><i class="fa-brands fa-facebook"></i> Facebook</a
            >
            <a href="https://www.twitter.com/"
              ><i class="fa-brands fa-twitter"></i> Twitter</a
            >
            <a href="https://www.linkedin.com/"
              ><i class="fa-brands fa-linkedin"></i> LinkedIn</a
            >
            <a href="https://www.instagram.com/"
              ><i class="fa-brands fa-instagram"></i> Instagram</a
            >
          </div>
        </div>
      </div>
      <div class="footer-credit">
        &copy; 2025 Job Junction. All rights reserved.
      </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.19/js/intlTelInput.min.js"></script>
    <script>
      // Basic helpers
      const $ = (s, root = document) => root.querySelector(s);
      const $$ = (s, root = document) => [...root.querySelectorAll(s)];
      const setError = (name, msg = "") => {
        const el = `.error[data-for="${name}"]`;
        const box = $(el);
        if (!box) return;
        if (msg) {
          box.textContent = msg;
          box.style.display = "block";
        } else {
          box.textContent = "";
          box.style.display = "none";
        }
      };

      // DOM elements
      const form = $("#contactForm");
      const notice = $("#formNotice");
      const btn = $("#submitBtn");
      const themeToggle = $("#themeToggle");
      const themeIcon = themeToggle.querySelector("i");
      const mobileToggle = $("#mobileToggle");
      const navMenu = $("#navMenu");

      // Initialize intl-tel-input
      const phoneInput = document.querySelector("#phone");
      const iti = window.intlTelInput(phoneInput, {
        initialCountry: "auto",
        geoIpLookup: function (callback) {
          // Use a free API for IP geolocation
          fetch("https://ipapi.co/json")
            .then(function (res) {
              return res.json();
            })
            .then(function (data) {
              callback(data.country_code);
            })
            .catch(function () {
              callback("us");
            });
        },
        utilsScript:
          "https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.19/js/utils.js",
        separateDialCode: true,
        preferredCountries: ["us", "gb", "ca", "au", "in"],
        hiddenInput: "full_phone",
        customPlaceholder: function (
          selectedCountryPlaceholder,
          selectedCountryData
        ) {
          return "e.g. " + selectedCountryPlaceholder;
        },
      });

      // Update phone input when country changes
      phoneInput.addEventListener("countrychange", function () {
        // Adjust the placeholder based on the selected country
        const placeholder = iti.getSelectedCountryData().placeholder;
        if (placeholder) {
          phoneInput.placeholder = placeholder.replace(/[0-9]/g, "X");
        }
      });

      // Check for saved theme preference or respect OS preference
      const prefersDarkScheme = window.matchMedia(
        "(prefers-color-scheme: dark)"
      );
      const currentTheme = localStorage.getItem("theme");

      if (
        currentTheme === "dark" ||
        (!currentTheme && prefersDarkScheme.matches)
      ) {
        document.body.classList.add("dark-mode");
        themeIcon.classList.remove("fa-moon");
        themeIcon.classList.add("fa-sun");
      }

      // Theme toggle functionality
      themeToggle.addEventListener("click", () => {
        document.body.classList.toggle("dark-mode");

        if (document.body.classList.contains("dark-mode")) {
          localStorage.setItem("theme", "dark");
          themeIcon.classList.remove("fa-moon");
          themeIcon.classList.add("fa-sun");
        } else {
          localStorage.setItem("theme", "light");
          themeIcon.classList.remove("fa-sun");
          themeIcon.classList.add("fa-moon");
        }
      });

      // Mobile menu toggle
      mobileToggle.addEventListener("click", () => {
        navMenu.classList.toggle("active");
      });

      // Form validation and submission
      const emailRe = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

      form.addEventListener("submit", async (e) => {
        e.preventDefault();

        // Anti-spam honeypot
        const honeypot = form.querySelector('input[name="company"]');
        if (honeypot && honeypot.value.trim() !== "") {
          return; // silently drop bots
        }

        // Validate phone number if provided
        if (phoneInput.value.trim()) {
          if (!iti.isValidNumber()) {
            setError("phone", "Please enter a valid phone number.");
            return;
          }
        }

        // Collect values
        const data = {
          name: $("#name").value.trim(),
          email: $("#email").value.trim(),
          phone: iti.isValidNumber() ? iti.getNumber() : "",
          subject: $("#subject").value.trim(),
          message: $("#message").value.trim(),
        };

        // Client-side validation
        let ok = true;
        setError("name");
        setError("email");
        setError("phone");
        setError("subject");
        setError("message");
        if (!data.name) {
          setError("name", "Please enter your name.");
          ok = false;
        }
        if (!emailRe.test(data.email)) {
          setError("email", "Please enter a valid email.");
          ok = false;
        }
        if (!data.subject) {
          setError("subject", "Please enter a subject.");
          ok = false;
        }
        if (!data.message || data.message.length < 10) {
          setError("message", "Message should be at least 10 characters.");
          ok = false;
        }

        if (!ok) return;

        // Submit
        btn.disabled = true;
        notice.className = "notice";
        notice.style.display = "block";
        notice.textContent = "Sending…";

        // Simulate API call with timeout
        setTimeout(() => {
          notice.className = "notice ok";
          notice.textContent = "Thanks! Your message was sent successfully.";
          form.reset();
          iti.setNumber("");
          btn.disabled = false;

          // Clear success message after 5 seconds
          setTimeout(() => {
            notice.style.display = "none";
          }, 5000);
        }, 1500);
      });

      // Close mobile menu when clicking outside
      document.addEventListener("click", (e) => {
        if (!navMenu.contains(e.target) && !mobileToggle.contains(e.target)) {
          navMenu.classList.remove("active");
        }
      });

      // Dropdown functionality
      const dropdowns = document.querySelectorAll(".dropdown");
      dropdowns.forEach((dropdown) => {
        dropdown.addEventListener("mouseenter", () => {
          dropdown.querySelector(".dropdown-content").style.display = "block";
        });
        dropdown.addEventListener("mouseleave", () => {
          dropdown.querySelector(".dropdown-content").style.display = "none";
        });
      });
    </script>
  </body>
</html>
